<!-- Only show loading spinner when the page is loading -->
<div *ngIf="loading">
  <p>Loading cart items...</p>
</div>

<!-- Only show error message if there is an error -->
<div *ngIf="error">
  <p>{{ error }}</p>
</div>

<!-- Show content only when data is loaded and there are cart items -->
<div *ngIf="!loading && hasCartItems && !error">
  <div *ngFor="let item of (cartItems$ | async)">
    <p>{{ item.product_id }} - {{ item.quantity }}</p> <!-- Replace with the actual fields -->
    <button (click)="deleteCartItem(item.id)">Remove</button> <!-- Use the correct identifier -->
  </div>
</div>

<!-- Show a message if there are no items in the cart -->
<div *ngIf="!loading && !hasCartItems && !error">
  <p>Your cart is empty.</p>
</div>
